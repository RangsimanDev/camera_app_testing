<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TestCamera</title>
    <link rel='stylesheet' href='{% static "css/imagePage.css" %}'>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="imagePage.css">
</head>

<body>
    <main>
        <div class='title'>
            <p>วัดความสุกและดิบของทุเรียน</p>
            <p class='subtitle'>“ ด้วยภาพ ”</p>
        </div>
        <div class='container'>
            <video id='camera--view' style='display: none;' autoplay></video>
        </div>
        <div class='btn-group'>
            <button type='button' class='btn' id='camera--open'>
                <span class="material-symbols-outlined" style="font-size: 50px;">photo_camera</span>
            </button>
            <button id="switch-camera" style="width: 30rem; height:5rem;">Switch Camera</button>
        </div>
    </main>

    <script>
        var constraints = { video: { facingMode: "environment" }, audio: false };
        // Define constants
        const cameraView = document.querySelector("#camera--view"),
            cameraOpen = document.querySelector("#camera--open")
        // Access the device camera and stream to cameraView
        function cameraStart() {
            navigator.mediaDevices
                .getUserMedia(constraints)
                .then(function (stream) {
                    track = stream.getTracks()[0];
                    cameraView.srcObject = stream;
                })
                .catch(function (error) {
                    console.error("Oops. Something is broken.", error);
                });
        }
    </script>
</body>

</html>